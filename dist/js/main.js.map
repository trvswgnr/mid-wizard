{"version":3,"sources":["form-data.js","form-validation.js","mid-wizard.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["  function set_or_push(target, val) {\n    var result = val;\n    if (target) {\n      result = [target];\n      result.push(val);\n    }\n    return result;\n  }\n\n  function get_form_data(form) {\n    var form_elements = form.elements,\n      form_params = {},\n      i = 0,\n      elem;\n\n    for (i = 0; i < form_elements.length; i += 1) {\n      elem = form_elements[i];\n      switch (elem.type) {\n        case \"submit\":\n          break;\n        case \"radio\":\n          if (elem.checked) {\n            form_params[elem.name] = elem.value;\n          }\n          break;\n        case \"checkbox\":\n          if (elem.checked) {\n            form_params[elem.name] = set_or_push(\n              form_params[elem.name],\n              elem.value\n            );\n          }\n          break;\n        default:\n          form_params[elem.id] = set_or_push(\n            form_params[elem.name],\n            elem.value\n          );\n      }\n    }\n    return form_params;\n  }\n","/* FORM VALIDATION\n------------------------------------------------- */\n\n  $('#wizard_form input[type=\"text\"]').blur(function () {\n    var input_length = $(this).val().length;\n    if (input_length < 1) {\n      $(this).after('<div>Please enter valid text.</div>');\n      return false;\n    } else {\n      return true;\n    }\n  });\n","var mid_wizard = (function () {\n  \"use strict\";\n\n  function $data_find(x, y) {\n    return $(\"[data-\" + x + '=\"' + y + '\"]');\n  }\n\n  var settings = {};\n\n  function init(options) {\n    var $fieldset_tag,\n      $section_tag,\n      inputs = {},\n      current_view = 1,\n      previous_view = 0,\n      current_section = 1,\n      previous_section = 0,\n      is_last_fieldset = false,\n      fieldsets_in_section,\n      fieldset_number,\n      fieldsets_in_prev_section,\n      params;\n\n    function change_view(curr, prev) {\n      $data_find(\"view\", curr).show().addClass(\"is-active\");\n      $data_find(\"view\", prev).hide().removeClass(\"is-active\");\n    }\n\n    function change_section(curr, prev) {\n      $data_find(\"section\", curr).addClass(\"is-active\");\n      $data_find(\"section\", prev).removeClass(\"is-active\");\n    }\n\n    function replace_dynamic_text() {\n      var name;\n      name = inputs.first_name;\n      $(\".js-dynamic-text-name\").text(name);\n    }\n\n    settings = $.extend(settings, options);\n\n    $section_tag = $(\".js-section\");\n\n    $fieldset_tag = $(\".js-fieldset\");\n\n    $.each($section_tag, function (s_i) {\n      var $this_fieldset_tags;\n      $(this).attr(\"data-section\", s_i + 1);\n      $this_fieldset_tags = $(this).find(\".js-fieldset\");\n      $.each($this_fieldset_tags, function (f_i) {\n        $(this).attr(\"data-fieldset\", f_i + 1);\n      });\n    });\n\n    $.each($fieldset_tag, function (i) {\n      $(this).attr(\"data-view\", i + 1);\n    });\n\n      $data_find(\"view\", 1).show().addClass(\"is-active\");\n      $data_find(\"section\", 1).addClass(\"is-active\");\n      $(\".js-previous-view\").hide();\n\n\n\n    /* CONTROL VIEW CLICK EVENTS\n    ------------------------------------------------- */\n    $(\".js-next-view\").click(function () {\n      $(this).text(\"Next Step\").removeClass(\"js-next-section\");\n      $(\".js-previous-view\").show();\n      previous_view = current_view;\n      current_view += 1;\n      current_section = $data_find(\"view\", current_view)\n        .parents(\".js-section\")\n        .data(\"section\");\n      previous_section = $data_find(\"view\", current_view)\n        .parents(\".js-section\")\n        .prev(\".js-section\")\n        .data(\"section\");\n      if (current_view > $fieldset_tag.length) {\n        current_view = $fieldset_tag.length;\n        previous_view = $fieldset_tag.length - 1;\n      }\n      if (current_section > $section_tag.length) {\n        current_section = $section_tag.length;\n        previous_section = $section_tag.length - 1;\n      }\n      fieldset_number = $data_find(\"view\", current_view).data(\"fieldset\");\n      fieldsets_in_section = $data_find(\"section\", current_section).find(\n        \".js-fieldset\"\n      );\n      fieldsets_in_prev_section = $data_find(\"section\", previous_section).find(\n        \".js-fieldset\"\n      );\n      is_last_fieldset = fieldset_number === fieldsets_in_section.length ? true : false;\n      fieldsets_in_prev_section.removeClass(\"u-block\");\n      if (is_last_fieldset) {\n        $(this).hide();\n        $(\".js-review-section\").show();\n      }\n      change_section(current_section, previous_section);\n      change_view(current_view, previous_view);\n      params = get_form_data(document.getElementById(\"wizard_form\"));\n      inputs = JSON.parse(JSON.stringify(params, null, \" \"));\n      replace_dynamic_text();\n    });\n\n    $(window).keypress(function (e) {\n      if (e.which === 13) {\n        e.preventDefault();\n        $(\".js-next-view\").click();\n      }\n    });\n\n    $(\".js-previous-view\").click(function () {\n      $(\".js-guide-text\").show();\n      previous_view = current_view;\n      current_view -= 1;\n      current_section = $data_find(\"view\", current_view)\n        .parents(\".js-section\")\n        .data(\"section\");\n      previous_section = $data_find(\"view\", current_view)\n        .parents(\".js-section\")\n        .next(\".js-section\")\n        .data(\"section\");\n      console.log(previous_section);\n      if (current_view <= 1) {\n        current_view = 1;\n        previous_view = 2;\n        $(this).hide();\n      }\n      if (current_section < 1) {\n        current_section = 1;\n        previous_section = 2;\n      }\n      fieldset_number = $data_find(\"view\", current_view).data(\"fieldset\");\n      fieldsets_in_section = $data_find(\"section\", current_section).find(\".js-fieldset\");\n      fieldsets_in_prev_section = $data_find(\"section\", previous_section).find(\".js-fieldset\");\n      is_last_fieldset = fieldset_number === fieldsets_in_section.length ? true : false;\n      fieldsets_in_section.removeClass(\"u-block\");\n      if (is_last_fieldset) {\n        $(\".js-next-view\").hide();\n        $(\".js-review-section\").show();\n      } else {\n        $(\".js-next-view\").show();\n        $(\".js-review-section\").hide();\n      }\n      change_view(current_view, previous_view);\n      change_section(current_section, previous_section);\n    });\n\n    $(\".js-review-section\").click(function () {\n      fieldsets_in_section.addClass(\"u-block\");\n      $(\".js-guide-text\").hide();\n      $(this).hide();\n      $(\".js-previous-view\").hide();\n      $(\".js-next-view\")\n        .show()\n        .text(\"Next Section\")\n        .addClass(\"js-next-section\");\n    });\n  }\n\n  return {\n    init: init\n  };\n})();\n\nmid_wizard.init();\n"]}